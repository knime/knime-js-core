<?xml version="1.0" encoding="utf-8"?>
<knimeNode icon="../../js.png" type="Visualizer" xmlns="http://knime.org/node/v2.8" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://knime.org/node/v2.8 http://knime.org/node/v2.8.xsd">
	<name>JavaScript ROC Curve</name>
	
	<shortDescription>
	    A ROC curve plot using a JavaScript based charting library.
	</shortDescription>
		
	<fullDescription>
		<intro>		
		    This node draws ROC curves for two-class classification problems. The input table
            must contain a column with the real class values (including all class values as possible values)
            and a second column with the probabilities that an item (=row) will be classified as being
            from the selected class. Therefore only learners/predictors that output class probabilities can
            be used.
            <br />
            In order to create a ROC curve for a model, the input table is first sorted by the class probabilities
            for the positive class i.e. rows for which the model is certain that it belongs to the positive class
            are sorted to front. Then the sorted rows are checked if the real class value is the actually the positive
            class. If so, the ROC curve goes up one step, if not it goes one step to the right. Ideally, all positive
            rows are sorted to front, so you have a line going up to 100% first and then going straight to right. As a
            rule of thumb, the greater the area under the curve, the better is the model.
            <br />
            You may compare the ROC curves of several trained models by first joining the class probability columns
            from the different predictors into one table and then selecting several column in the column filter
            panel.
            <br />
            The black diagonal line in the diagram is the random line which is the worst possible performance a
            model can achieve.
    	   <p>Additionally a static SVG image can be rendered, which is then made available at the first output port.</p>
            <p>Note, this node is currently under development. Future versions of the node might have more or changed functionality.</p>
		</intro>
		
		<tab name="General Plot Options">
		    <option name="Hide in wizard">If the view should be hidden in the wizard execution.</option>
            <option name="Create image at outport">If an image is supposed to be rendered during execute for the upper outport. Disable this option if image is not needed or creation is too time consuming.</option>
            <option name="Width of image (in px)">The width of the generated SVG image.</option>
            <option name="Height of image (in px)">The height of the generated SVG image.</option>
            <option name="Line width (in px)">The width of the shown lines.</option>
            <option name="Show area under curve">If set, the plot displays the size of the area under the curves</option>
            
            <option name="Resize view to fill window">Setting this option resizes the view to the available area of the window. If disabled the view size is static according to the set width and height.</option>
            <option name="Background color">The color of the background of the image.</option>
            <option name="Data area color">The background color of the data area, within the axes.</option>
            <option name="Show grid">If an additional grid is being rendered at the axes tick positions.</option>
            <option name="Grid color">The color of the grid.</option>
        </tab>
        <tab name="ROC Curve Settings">
            <option name="Class column">
                Select the column that contains the two classes that the model was trained on.
            </option>
            <option name="Positive class value">Select the value from the class column that stands for the "positive" class, i.e.
            the value high probabilities in the probability column (see below) are assigned to.</option>
            <option name="Limit data points for each curve to">By default each curve shows at most 2,000 different data points
            regardless how may rows are in the input. If you want to see more or less points in the curve, adjust this value.
            Lower values make rendering the curves faster but this is only an issue if you have many different curves. A value
            of -1 disables the limit and shows all input data points.</option>
            <option name="Columns containing the positive class probabilities">Select the
            column(s) that contain the probabilities for the a row being from the positive class.        
            </option>
        </tab>
        
	</fullDescription>
	
	<interactiveView name="ROC Curve">
		Displays a ROC curve visualization of the input data.
	</interactiveView>
	<ports>
		<inPort index="0" name="Display data">Data table with data to display.</inPort>
		<inPort index="1" name="Color info">Color Information</inPort>
		<outPort index="0" name="Image">SVG image rendered by the JavaScript implementation of the ROC curve.</outPort>
		<outPort index="1" name="Area under curve">The areas under the ROC curves.</outPort>
	</ports>	
</knimeNode>